<!-- Copyright 2024 Google LLC.
SPDX-License-Identifier: Apache-2.0 -->

<!DOCTYPE html>
<html lang="en">
  
  <head>
    
    <title>First-party cookie demo</title>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="stylesheet" href="css/main.css">

  </head>

  <body>

    <main>
    
      <h1>First-party cookie demo</h1>
     
      
      <p>A <code>Set-Cookie</code> header is included with the response to the request for both the image and the iframe on this page:</p>
        <ul>
          <li>Image: <a href="https://chrome.dev/f/cookie_1p/images/kittens.jpg">chrome.dev/f/cookie_1p/images/kittens.jpg</a><br>
          Response header: <code>Set-Cookie: cat=tabby; Max-Age=86400; Secure; HTTPOnly</code><br>
            This header has no <code>Path</code> attribute, so the cookie will only be included with requests to the <code>/images</code> directory.</li>
          <li>Iframe: <a href="https://chrome.dev/f/cookie_1p/iframe/index.html">chrome.dev/f/cookie_1p/iframe/index.html</a><br>
          Response header: <code>Set-Cookie: iframe-seen=true; Path=/; Secure; HTTPOnly</code><br>
            This header has a <code>Path=/</code> attribute, so the cookie will be included with requests to this site. No <code>Max-Age</code> or <code>Expires</code> attribute is set, so this cookie will be deleted at the end of the browser session.</li>
        </ul>
      

      <img id="kittens" src="images/kittens.jpg" alt="Two tabby kittens: Little Puss and Lias">
      
       <iframe src="iframe/index.html"></iframe>
  
                  

        <h2>See how it works</h2>
      
      <ol>      
        <li>Open the Chrome DevTools Network&nbsp;panel</li>
        <li>Click on <code>index.html</code> (from the iframe) or <code>kittens.jpg</code></li>
        <li>In the Headers tab, view <code>Set-Cookie</code> in the Response Headers.</li>
        <li>The first time you open the page, no cookies have been set yet, so there won't be a <code>Cookie</code> entry in the Request Headers.</li>
        <li>Subsequent requests will include <code>Cookie</code> headers. A request for the image will include both the <code>cat=tabby</code> and <code>iframe-seen=true</code> cookies. Other requests will only include <code>iframe-seen=true</code>.</li>
        <li>You can also view cookies from the Application panel. Try Ctrl-Alt-click to clear cookies, and then reopen the page.</li>
      </ol>
      
      <p>You can view the backend Node code that sets the cookies in <a href="https://glitch.com/edit/#!/1pc?path=server.js:12">server.js</a>.</p>
      
    <h2>Cookie blocking</h2>
      
      <p>In Chrome, try out cookie blocking by selecting "Don't allow sites to save data on your device" from <code>chrome://settings/content/siteData</code>.</p>
      
      <img id="chrome-setting" src="images/chrome-settings-block-cookies.png" alt="Don't allow sites to save data on your device, selected from chrome://settings/content/siteData page">
     
      <p>With cookies blocked, you can check from the Chrome DevTools Network panel that no <code>Cookie</code> header is included in Request Headers. Try turning the setting on and off again.</p>

    </main>

    <footer>

      <h2>Find out more</h2>
      
      <ul>
        <li><a href="https://glitch.com/edit/#!/1pc">Code for this demo</a></li>
        <li><a href="https://chrome.dev/f/cookie_3p">Third-party cookie demo</a></li>
        <li><a href="https://chrome.dev/f/cookie_js">JavaScript cookie demo</a></li>
        <li><a href="https://chrome.dev/f/cookie_samesite">SameSite cookie demo</a></li>
        <li><a href="https://chrome.dev/f/cookie_example_a">Cross-site cookie tracking demo</a></li>
        <li><a href="https://goo.gle/cookies">What are cookies?</a></li>
        <li><a href="https://goo.gle/3pc">What are third-party cookies?</a></li>
        <li><a href="https://goo.gle/cookie-attributes">Cookie attributes</a></li>
        <li><a href="https://goo.gle/cookie-demos">Cookie demos</a></li>
        <li><a href="https://goo.gle/cookie-tools">Cookie tools</a></li>
      </ul>
      
      <p>If you find bugs with this demo, or would like to suggest changes, please message <a href="https//twitter.com/sw12">@sw12</a>.</p>
      
    </footer>
    
  </body>

</html>
